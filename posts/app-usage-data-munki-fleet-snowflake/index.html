<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title>Leveraging Application Usage Data From Munki - t-lark.github.io</title><meta name="Description" content="t-lark.github.io"><meta property="og:url" content="https://t-lark.github.io/posts/app-usage-data-munki-fleet-snowflake/">
  <meta property="og:site_name" content="t-lark.github.io">
  <meta property="og:title" content="Leveraging Application Usage Data From Munki">
  <meta property="og:description" content="Getting Application Usage Data at Scale With Munki Munki is a series of tools and a popular application state management tool many Mac Admins across the globe use. Some out-of-box features of Munki solve problems many commercial MDMs still cannot solve to this day. It allows a Mac Admin to write some declarative data and have Munki takes care of the rest for you. We use it to manage and patch all of our third party apps in conjunction with AutoPKG.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-03-26T18:43:26-07:00">
    <meta property="article:modified_time" content="2024-03-26T18:43:26-07:00">
    <meta property="article:tag" content="Application Usage">
    <meta property="article:tag" content="Fleetdm">
    <meta property="article:tag" content="Osquery">
    <meta property="article:tag" content="Data">
    <meta property="article:tag" content="Snowflake">
    <meta property="article:tag" content="Munki">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Leveraging Application Usage Data From Munki">
  <meta name="twitter:description" content="Getting Application Usage Data at Scale With Munki Munki is a series of tools and a popular application state management tool many Mac Admins across the globe use. Some out-of-box features of Munki solve problems many commercial MDMs still cannot solve to this day. It allows a Mac Admin to write some declarative data and have Munki takes care of the rest for you. We use it to manage and patch all of our third party apps in conjunction with AutoPKG.">
      <meta name="twitter:site" content="@tlark8">
<meta name="application-name" content="tlark&#39;s blog">
<meta name="apple-mobile-web-app-title" content="tlark&#39;s blog"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://t-lark.github.io/posts/app-usage-data-munki-fleet-snowflake/" /><link rel="prev" href="https://t-lark.github.io/posts/using-custom-mdm-payloads-for-fleet-labels/" /><link rel="next" href="https://t-lark.github.io/posts/building_endpoint_performance_metrics/" /><link rel="stylesheet" href="/css/style.min.css"><link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css"></noscript><link rel="preload" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css"></noscript><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "Leveraging Application Usage Data From Munki",
        "inLanguage": "en",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/t-lark.github.io\/posts\/app-usage-data-munki-fleet-snowflake\/"
        },"genre": "posts","keywords": "application usage, fleetdm, osquery, data, snowflake, munki","wordcount":  2183 ,
        "url": "https:\/\/t-lark.github.io\/posts\/app-usage-data-munki-fleet-snowflake\/","datePublished": "2024-03-26T18:43:26-07:00","dateModified": "2024-03-26T18:43:26-07:00","publisher": {
            "@type": "Organization",
            "name": ""},"author": {
                "@type": "Person",
                "name": "tlark"
            },"description": ""
    }
    </script></head>
    <body data-header-desktop="fixed" data-header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="t-lark.github.io">t-lark.github.io</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> Posts </a><a class="menu-item" href="/tags/"> Tags </a><a class="menu-item" href="/categories/"> Categories </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="Search">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="Clear">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
                </a></div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="t-lark.github.io">t-lark.github.io</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="Search">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="Clear">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        Cancel
                    </a>
                </div><a class="menu-item" href="/posts/" title="">Posts</a><a class="menu-item" href="/tags/" title="">Tags</a><a class="menu-item" href="/categories/" title="">Categories</a><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a></div>
    </div>
</header><div class="search-dropdown desktop">
        <div id="search-dropdown-desktop"></div>
    </div>
    <div class="search-dropdown mobile">
        <div id="search-dropdown-mobile"></div>
    </div><main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">Contents</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">Leveraging Application Usage Data From Munki</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="/" title="Author" rel="author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>tlark</a></span>&nbsp;<span class="post-category">included in <a href="/categories/fleetdm/"><i class="far fa-folder fa-fw" aria-hidden="true"></i>Fleetdm</a>&nbsp;<a href="/categories/osquery/"><i class="far fa-folder fa-fw" aria-hidden="true"></i>Osquery</a>&nbsp;<a href="/categories/snowflake/"><i class="far fa-folder fa-fw" aria-hidden="true"></i>Snowflake</a>&nbsp;<a href="/categories/data/"><i class="far fa-folder fa-fw" aria-hidden="true"></i>Data</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw" aria-hidden="true"></i>&nbsp;<time datetime="2024-03-26">2024-03-26</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden="true"></i>&nbsp;2183 words&nbsp;
                <i class="far fa-clock fa-fw" aria-hidden="true"></i>&nbsp;11 minutes&nbsp;</div>
        </div><div class="details toc" id="toc-static"  data-kept="">
                <div class="details-summary toc-title">
                    <span>Contents</span>
                    <span><i class="details-icon fas fa-angle-right" aria-hidden="true"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#getting-application-usage-data-at-scale-with-munki">Getting Application Usage Data at Scale With Munki</a></li>
        <li><a href="#use-fleetdm-to-configure-atc-in-osquery">Use FleetDM to Configure ATC in osquery</a></li>
        <li><a href="#modeling-the-data-in-snowflake">Modeling the Data in Snowflake</a></li>
        <li><a href="#lets-test-drive-the-data-model">Lets Test Drive the Data Model!</a></li>
        <li><a href="#conclusion">Conclusion</a></li>
      </ul>
    </li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><a class="lightgallery" href="/img/fleet_munki_snowflake.png" title="/img/fleet_munki_snowflake.png" data-thumbnail="/img/fleet_munki_snowflake.png">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/img/fleet_munki_snowflake.png"
            data-srcset="/img/fleet_munki_snowflake.png, /img/fleet_munki_snowflake.png 1.5x, /img/fleet_munki_snowflake.png 2x"
            data-sizes="auto"
            alt="/img/fleet_munki_snowflake.png" />
    </a>
<h3 id="getting-application-usage-data-at-scale-with-munki">Getting Application Usage Data at Scale With Munki</h3>
<p><a href="https://github.com/munki/munki" target="_blank" rel="noopener noreffer ">Munki</a> is a series of tools and a popular application state management tool many Mac Admins across the globe
use. Some out-of-box features of Munki solve problems many commercial MDMs still cannot solve to this day. It allows
a Mac Admin to write some declarative data and have Munki takes care of the rest for you. We use it to manage
and patch all of our third party apps in conjunction with <a href="https://github.com/autopkg/autopkg" target="_blank" rel="noopener noreffer ">AutoPKG</a>.</p>
<p>Many projects or ideas start with a simple statement, or declaring what you want to accomplish. I feel this specific topic
is one that requires this. I feel this is required, because I know many organizations will likely abuse application usage data
for things it is not meant for.</p>
<div class="details admonition abstract open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-list-ul fa-fw" aria-hidden="true"></i>Abstract:<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content">We want to enable humans to have the best technology available to them whenever they need it. However, we also want to be
financially responsible and invoke cost savings whenever we can. Application usage data can help bridge this gap. It is my
personal belief that the best UX with the best cost savings is to automatically provision licensed software upon request
with little questions asked. Then revoke the license if the app is not used within an arbitrary amount of time. This allows
humans you work with to get the software they need automatically and the organization to save money if that licensed software
is no longer in use by that human.</div>
        </div>
    </div>
<p>One of the neat features of Munki, is that it can track application usage and Munki can take action from that data. You
can read about it <a href="https://github.com/munki/munki/wiki/Removal-of-Unused-Software" target="_blank" rel="noopener noreffer ">here</a> in the project&rsquo;s wiki page. There
is a local SQLite database located in <code>/Library/Managed Installs/application_usage.sqlite</code> and it contains the data we
are looking to ingest at scale into Snowflake!</p>
<p>The schema for this db is:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">application_usage</span><span class="w"> </span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">event</span><span class="w"> </span><span class="nb">TEXT</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">bundle_id</span><span class="w"> </span><span class="nb">TEXT</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">app_version</span><span class="w"> </span><span class="nb">TEXT</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">app_path</span><span class="w"> </span><span class="nb">TEXT</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">last_time</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">number_times</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">event</span><span class="p">,</span><span class="w"> </span><span class="n">bundle_id</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">)</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>So, you can just shell into that db on any Mac that has Munki installed and run some basic SQLite commands to look at what
it collects. However, no one is going to shell into each individual end user computer and collect this data. It is worth
mentioning that <a href="https://github.com/munkireport/munkireport-php" target="_blank" rel="noopener noreffer ">Munki Reports</a> is another tool Mac Admins can use if they choose
to, that can help centralize data and management of Munki.</p>
<p>When you work with data at scale centralizing your data though is extremely valuable for many reasons. Here are some top
reasons why an organization would want to do this:</p>
<ul>
<li><code>Data Governance</code>:
<ul>
<li>implement RBAC controls on who can access what data, and protect crown jewels data</li>
</ul>
</li>
<li><code>Analytics and Intelligence</code>:
<ul>
<li>Build dashboards and data workflows to help automate and gain insights</li>
</ul>
</li>
<li><code>Data Sharing</code>:
<ul>
<li>Share your data across teams</li>
</ul>
</li>
<li><code>Reduce noise</code>:
<ul>
<li>Ability to join your data to multiple data sources and apply laser focus context to your data</li>
</ul>
</li>
</ul>
<p>I am sure folks have written books about this subject, so I will leave it with those 4 points.</p>
<h3 id="use-fleetdm-to-configure-atc-in-osquery">Use FleetDM to Configure ATC in osquery</h3>
<p>Osquery has a really neat feature called Automatic Table Creation (or ATC for short), and a good introductory blog post
about it can be read <a href="https://www.kolide.com/blog/how-to-build-custom-osquery-tables-using-atc" target="_blank" rel="noopener noreffer ">here</a>. It can essentially
query something like a SQLite database and return the results into an osquery table. This is the perfect feature for a
setup like ours. The first SQLite database I was targeting was of course, the Munki application usage database.</p>
<p>FleetDM does this a bit different from the Kolide blog post, but conceptually it is the same in the end. Let&rsquo;s start
with our requirements:</p>
<ul>
<li>FleetDM Stack</li>
<li>Firehose Kinesis Stream to Snowflake</li>
<li>A Munki deployment</li>
</ul>
<div class="details admonition Info open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-pencil-alt fa-fw" aria-hidden="true"></i>More Info:<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content">With anything you roll out, you should look at a phased approach. We have setup <a href="https://fleetdm.com/docs/using-fleet/segment-hosts" target="_blank" rel="noopener noreffer ">Teams</a>
in FleetDM. We have a team set to just my team, a team set to our canary groups, and then there is the concept of &ldquo;all teams&rdquo;
which we just consider production. We make changes to the CPE team first, then if nothing breaks we move it to the canary
groups and monitor it for some arbitrary range of time. Finally, we move it to production, and I highly recommend every
IT shop have this sort of setup.</div>
        </div>
    </div>
<p>FleetDM has the ability to modify the osquery config files per a team, this allowed me to set up ATC in a controlled and
phased fashion. There are also some caveats, as I found out the hard way that if your YAML file in FleetDM is not quite
in proper order osquery will skip over your <a href="https://fleetdm.com/docs/configuration/agent-configuration#decorators" target="_blank" rel="noopener noreffer ">decorators</a>.
See this <a href="https://github.com/fleetdm/fleet/issues/677" target="_blank" rel="noopener noreffer ">issue</a> for more details.</p>
<p>Decorators are important, especially if you ship osquery data from FleetDM downstream to a product like Snowflake. They are
included in every query result, thus it is a smart idea to put unique strings or IDs as a decorator, so now you have a
<a href="https://en.wikipedia.org//wiki/Primary_key" target="_blank" rel="noopener noreffer ">primary key</a> in your data you can use to join to other data sets.</p>
<p>So, again please test everything out against a small subset of your systems and use a phased approach before you go all in
on any osquery configuration change. Here is a sample of a YAML config you can use to accomplish ATC:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">config</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">options</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">pack_delimiter</span><span class="p">:</span><span class="w"> </span><span class="l">/</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">logger_tls_period</span><span class="p">:</span><span class="w"> </span><span class="m">10</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">distributed_plugin</span><span class="p">:</span><span class="w"> </span><span class="l">tls</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">disable_distributed</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">logger_tls_endpoint</span><span class="p">:</span><span class="w"> </span><span class="l">/api/osquery/log</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">distributed_interval</span><span class="p">:</span><span class="w"> </span><span class="m">10</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">distributed_tls_max_attempts</span><span class="p">:</span><span class="w"> </span><span class="m">3</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">decorators</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">load</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">SELECT uuid AS host_uuid FROM system_info;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">SELECT hostname AS hostname FROM system_info;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">SELECT hardware_serial from system_info as serial_number;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">auto_table_construction</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">munki_app_usage</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l">/Library/Managed Installs/application_usage.sqlite</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">query</span><span class="p">:</span><span class="w"> </span><span class="p">&gt;-</span><span class="sd">
</span></span></span><span class="line"><span class="cl"><span class="sd">        select event, bundle_id, app_version, app_path, last_time, number_times
</span></span></span><span class="line"><span class="cl"><span class="sd">        from application_usage;</span><span class="w">        
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">columns</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="l">event</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="l">bundle_id</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="l">app_version</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="l">app_path</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="l">last_time</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="l">number_times</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">platform</span><span class="p">:</span><span class="w"> </span><span class="l">darwin</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><div class="details admonition warning open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-exclamation-triangle fa-fw" aria-hidden="true"></i>Be Specific on Selects<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><p>When working with data, you might want to do things like <code>SELECT * FROM FOO_TABLE;</code> and this might get the exact results you
want. This may work for a very long time as well. However, it is more of a best practice to be very specific in the tables
you select to avoid breakage downstream. If Munki were to add a new column to their database for any reason that <code>SELECT *</code>
would also include that new table. Now downstream any data models or preprocessing will have a new column to deal with
that isn&rsquo;t defined. This could break things, and it is likely when it does break this is not the first thing you will think
to check. So, just start off by sanitizing your inputs, and only selecting the exact data you intend to get downstream.</p>
<p>In semi-structured data like JSON this is much less of a risk as you will likely just be missing a new key.</p>
</div>
        </div>
    </div>
<p>When you use ATC to create a table FleetDM won&rsquo;t recognize it as a valid table, and you might see this warning message
when trying to run a live query:</p>
<a class="lightgallery" href="/img/munki-app-usage-query.png" title="/img/munki-app-usage-query.png" data-thumbnail="/img/munki-app-usage-query.png">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/img/munki-app-usage-query.png"
            data-srcset="/img/munki-app-usage-query.png, /img/munki-app-usage-query.png 1.5x, /img/munki-app-usage-query.png 2x"
            data-sizes="auto"
            alt="/img/munki-app-usage-query.png" />
    </a>
<p>If you just ignore this message and YOLO it anyway and hit that query button, you will see you actually do get results:</p>
<a class="lightgallery" href="/img/munki-app-usage-results.png" title="/img/munki-app-usage-results.png" data-thumbnail="/img/munki-app-usage-results.png">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/img/munki-app-usage-results.png"
            data-srcset="/img/munki-app-usage-results.png, /img/munki-app-usage-results.png 1.5x, /img/munki-app-usage-results.png 2x"
            data-sizes="auto"
            alt="/img/munki-app-usage-results.png" />
    </a>
<p>You might notice that there are several event types the Munki collects about an application. They are:</p>
<ul>
<li><code>Activate</code> - This monitors when the application is the foreground app</li>
<li><code>Quit</code> - This tracks when the application is quit</li>
<li><code>Launch</code> - This tracks when an application is launched</li>
<li><code>Number Times</code> - The number of times each event has occurred in total</li>
<li><code>Last Time</code> - Epoch time stamp of the last time this event occurred</li>
</ul>
<p>This is actually great and exactly what most organizations need to monitor application usage, for its proper intended use.
Which is license revocation and cost savings. Trying to monitor application usage for other use cases is a bit of a mixed bag at
best, and awful at the worst.</p>
<h3 id="modeling-the-data-in-snowflake">Modeling the Data in Snowflake</h3>
<p>For this and most of our other osquery data ingests from FleetDM we typically do a 1:1 data model. Meaning that we write
a single query, that typically does a single purpose in FleetDM and ship the results as a snapshot in time to Snowflake.
We worry about transforming the data downstream within Snowflake itself. This allows us to quickly get data pipelines going
and then transform downstream when it is already in the product. Some of our JSON files can be over 20,000 lines of
query results, and this sample I am going to share is about 700 lines of JSON.</p>
<p>An example of query results:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;action&#34;</span><span class="p">:</span> <span class="s2">&#34;snapshot&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;calendarTime&#34;</span><span class="p">:</span> <span class="s2">&#34;Tue Mar 26 19:13:20 2024 UTC&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;counter&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;decorations&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;hardware_serial&#34;</span><span class="p">:</span> <span class="s2">&#34;device_serial&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;host_uuid&#34;</span><span class="p">:</span> <span class="s2">&#34;device_uuid&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;hostname&#34;</span><span class="p">:</span> <span class="s2">&#34;host_name&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;epoch&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;hostIdentifier&#34;</span><span class="p">:</span> <span class="s2">&#34;host-identifier&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;pack/Global/ingest-munki-app-usage&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;numerics&#34;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;snapshot&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;app_path&#34;</span><span class="p">:</span> <span class="s2">&#34;/Applications/Slack.app&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;app_version&#34;</span><span class="p">:</span> <span class="s2">&#34;4.36.140&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;bundle_id&#34;</span><span class="p">:</span> <span class="s2">&#34;com.tinyspeck.slackmacgap&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;event&#34;</span><span class="p">:</span> <span class="s2">&#34;activate&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;last_time&#34;</span><span class="p">:</span> <span class="s2">&#34;1710526854&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;number_times&#34;</span><span class="p">:</span> <span class="s2">&#34;144&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;path&#34;</span><span class="p">:</span> <span class="s2">&#34;/Library/Managed Installs/application_usage.sqlite&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;app_path&#34;</span><span class="p">:</span> <span class="s2">&#34;/Applications/Slack.app&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;app_version&#34;</span><span class="p">:</span> <span class="s2">&#34;4.36.140&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;bundle_id&#34;</span><span class="p">:</span> <span class="s2">&#34;com.tinyspeck.slackmacgap&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;event&#34;</span><span class="p">:</span> <span class="s2">&#34;launch&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;last_time&#34;</span><span class="p">:</span> <span class="s2">&#34;1710169315&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;number_times&#34;</span><span class="p">:</span> <span class="s2">&#34;1&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;path&#34;</span><span class="p">:</span> <span class="s2">&#34;/Library/Managed Installs/application_usage.sqlite&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>I&rsquo;ve truncated the results above, but you might notice I just grabbed 2 events for the Slack.app. This shows the <code>activate</code>
event and the <code>launch</code> event. Now just imagine an entry like this for every application used on an end user&rsquo;s device.</p>
<p>In a <a href="https://t-lark.github.io/posts/more-osquery-data-modeling-snowflake/" target="_blank" rel="noopener noreffer ">previous blog post</a> I covered some data modeling
in Snowflake with FleetDM data at a high level. We will still use those same high level concepts here. We can create a view
by running the following SQL:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="k">view</span><span class="w"> </span><span class="n">DB</span><span class="p">.</span><span class="k">SCHEMA</span><span class="p">.</span><span class="n">OSQR_MUNKI_APP_USAGE_V</span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="n">SERIAL_NUMBER</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="n">HOST_NAME</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="n">EVENT_TIMESTAMP</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="n">HOST_UUID</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="n">APP_PATH</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="n">APP_VERSION</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="n">BUNDLE_ID</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="n">EVENT_TYPE</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="n">LAST_TIME</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="n">NUMBER_TIMES</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="n">SOURCE_PATH</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">)</span><span class="w"> </span><span class="k">copy</span><span class="w"> </span><span class="n">grants</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">select</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">serial_number</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">,</span><span class="w"> </span><span class="n">host_name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">,</span><span class="w"> </span><span class="n">event_timestamp</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">,</span><span class="w"> </span><span class="n">host_uuid</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">,</span><span class="w"> </span><span class="n">f</span><span class="p">.</span><span class="n">value</span><span class="p">[</span><span class="s1">&#39;app_path&#39;</span><span class="p">]::</span><span class="n">string</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">app_path</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">,</span><span class="w"> </span><span class="n">f</span><span class="p">.</span><span class="n">value</span><span class="p">[</span><span class="s1">&#39;app_version&#39;</span><span class="p">]::</span><span class="n">string</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">app_version</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">,</span><span class="w"> </span><span class="n">f</span><span class="p">.</span><span class="n">value</span><span class="p">[</span><span class="s1">&#39;bundle_id&#39;</span><span class="p">]::</span><span class="n">string</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">bundle_id</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">,</span><span class="w"> </span><span class="n">f</span><span class="p">.</span><span class="n">value</span><span class="p">[</span><span class="s1">&#39;event&#39;</span><span class="p">]::</span><span class="n">string</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">event_type</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">,</span><span class="w"> </span><span class="n">f</span><span class="p">.</span><span class="n">value</span><span class="p">[</span><span class="s1">&#39;last_time&#39;</span><span class="p">]::</span><span class="nb">number</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">last_time</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">,</span><span class="w"> </span><span class="n">f</span><span class="p">.</span><span class="n">value</span><span class="p">[</span><span class="s1">&#39;number_times&#39;</span><span class="p">]::</span><span class="nb">number</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">number_times</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">,</span><span class="w"> </span><span class="n">f</span><span class="p">.</span><span class="n">value</span><span class="p">[</span><span class="s1">&#39;path&#39;</span><span class="p">]::</span><span class="n">string</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">source_path</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w"> </span><span class="n">DB</span><span class="p">.</span><span class="k">SCHEMA</span><span class="p">.</span><span class="n">FLEET_OSQUERY_RESULTS</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">,</span><span class="w"> </span><span class="k">lateral</span><span class="w"> </span><span class="n">flatten</span><span class="p">(</span><span class="k">input</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">snapshot</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">f</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">where</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;pack/Global/ingest-munki-app-usage&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">);</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>Our data is structured in a way that our decorators that we put in the FleetDM configs for osquery are always split out
into their own columns from the raw JSON data, and some other commonly used keys we use. Like the query name as this is
something we will filter for quite often. I am also keeping the schema intact from the original source, the SQLite database
that Munki generates. This is really for data fidelity reasons, and if anyone ever has to reverse all the work I have done
it just makes the most sense to copy the schema data types from the source in the model itself. So, I keep that 1:1 relationship
not only with the query results, but the data types defined by the schema as well. Another big bonus of mimicking the
schema from the source is that I can produce the same results from the base data model as I could locally use the SQLite
shell on a macOS device running Munki.</p>
<h3 id="lets-test-drive-the-data-model">Lets Test Drive the Data Model!</h3>
<p>Now we just need to test our data model in Snowflake, and validate it is good to data share and use in dashboards and data
applications. First lets just run a basic query against our data model and see what we get.</p>
<p>My favorite app in the world, Excel!</p>
<a class="lightgallery" href="/img/excel_usage.png" title="/img/excel_usage.png" data-thumbnail="/img/excel_usage.png">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/img/excel_usage.png"
            data-srcset="/img/excel_usage.png, /img/excel_usage.png 1.5x, /img/excel_usage.png 2x"
            data-sizes="auto"
            alt="/img/excel_usage.png" />
    </a>
<p>Now with a bit more filtering and more specific results for Photoshop!</p>
<a class="lightgallery" href="/img/app_usage_photoshop.png" title="/img/app_usage_photoshop.png" data-thumbnail="/img/app_usage_photoshop.png">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/img/app_usage_photoshop.png"
            data-srcset="/img/app_usage_photoshop.png, /img/app_usage_photoshop.png 1.5x, /img/app_usage_photoshop.png 2x"
            data-sizes="auto"
            alt="/img/app_usage_photoshop.png" />
    </a>
<h3 id="conclusion">Conclusion</h3>
<p>Application usage data is a fanstatic way to track when expensive apps are getting used (or not getting used), track active license usage, help
procurement with true up renewals, and just have a good general cost savings model. IT is sometimes viewed solely as an
operational cost center, but now you can turn IT into a service providing cost savings by leverage good IT and automation tools
and shipping your data to a platform like Snowflake. I bet we will use this model for true up renewals moving forward.
This also is a good way for IT to capture what applications they likely need to offer in their self-service flows. If you have a
substantial number of end users constantly using an app, perhaps this is an indicator it should be packaged up, deployed and
patched/updated by IT.</p>
<p>There are many good use cases for this and those use cases can be tied to cost savings for the org and quality of life
upgrades for your end users. Just remember application usage data is not meant to track productivity, or anything adjacent or even near
that. You should not be shocked the majority of your users will spend the majority of their time in the web browser. I highly
discourage any use of application usage tracking for anything other that quality of life improvements and cost savings
initiatives (or things closely adjacent to these).</p>
</div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>Updated on 2024-03-26</span>
            </div></div>
        <div class="post-info-line">
            <div class="post-info-md"></div>
            <div class="post-info-share">
                <span><a href="javascript:void(0);" title="Share on Twitter" data-sharer="twitter" data-url="https://t-lark.github.io/posts/app-usage-data-munki-fleet-snowflake/" data-title="Leveraging Application Usage Data From Munki" data-via="tlark8" data-hashtags="application usage,fleetdm,osquery,data,snowflake,munki"><i class="fab fa-twitter fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Facebook" data-sharer="facebook" data-url="https://t-lark.github.io/posts/app-usage-data-munki-fleet-snowflake/" data-hashtag="application usage"><i class="fab fa-facebook-square fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Hacker News" data-sharer="hackernews" data-url="https://t-lark.github.io/posts/app-usage-data-munki-fleet-snowflake/" data-title="Leveraging Application Usage Data From Munki"><i class="fab fa-hacker-news fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Line" data-sharer="line" data-url="https://t-lark.github.io/posts/app-usage-data-munki-fleet-snowflake/" data-title="Leveraging Application Usage Data From Munki"><i data-svg-src="https://cdn.jsdelivr.net/npm/simple-icons@7.3.0/icons/line.svg" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on 微博" data-sharer="weibo" data-url="https://t-lark.github.io/posts/app-usage-data-munki-fleet-snowflake/" data-title="Leveraging Application Usage Data From Munki"><i class="fab fa-weibo fa-fw" aria-hidden="true"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;<a href="/tags/application-usage/">Application Usage</a>,&nbsp;<a href="/tags/fleetdm/">Fleetdm</a>,&nbsp;<a href="/tags/osquery/">Osquery</a>,&nbsp;<a href="/tags/data/">Data</a>,&nbsp;<a href="/tags/snowflake/">Snowflake</a>,&nbsp;<a href="/tags/munki/">Munki</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">Back</a></span>&nbsp;|&nbsp;<span><a href="/">Home</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/posts/using-custom-mdm-payloads-for-fleet-labels/" class="prev" rel="prev" title="Using Custom MDM Payloads for FleetDM Labels"><i class="fas fa-angle-left fa-fw" aria-hidden="true"></i>Using Custom MDM Payloads for FleetDM Labels</a>
            <a href="/posts/building_endpoint_performance_metrics/" class="next" rel="next" title="Building Endpoint Performance Metrics">Building Endpoint Performance Metrics<i class="fas fa-angle-right fa-fw" aria-hidden="true"></i></a></div>
</div>
</article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.140.2">Hugo</a> | Theme - <a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="noopener noreffer" title="LoveIt 0.3.0"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden="true"></i> LoveIt</a>
                </div><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="far fa-copyright fa-fw" aria-hidden="true"></i><span itemprop="copyrightYear">2022 - 2025</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/" target="_blank">xxxx</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="fas fa-arrow-up fa-fw" aria-hidden="true"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="View Comments">
                <i class="fas fa-comment fa-fw" aria-hidden="true"></i>
            </a>
        </div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/css/lightgallery-bundle.min.css"><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/autocomplete.js@0.38.1/dist/autocomplete.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lunr@2.3.9/lunr.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/lightgallery.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/plugins/thumbnail/lg-thumbnail.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/plugins/zoom/lg-zoom.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/sharer.js@0.5.1/sharer.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":50},"comment":{},"lightgallery":true,"search":{"highlightTag":"em","lunrIndexURL":"/index.json","maxResultLength":10,"noResultsFound":"No results found","snippetLength":30,"type":"lunr"}};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
